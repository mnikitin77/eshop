<!DOCTYPE html>
<html lang="zxx" class="no-js">

<head th:replace="fragments/head.html :: cli_head_block(~{::title})">
	<title>eshop | cataloge</title>
</head>

<body id="category">

	<!-- Start Header Area -->
	<header  th:replace="fragments/header.html :: cli_header_block(${'shop'})" class="header_area sticky-header"></header>
	<!-- End Header Area -->

	<!-- Start Banner Area -->
	<section class="banner-area organic-breadcrumb">
		<div class="container">
			<div class="breadcrumb-banner d-flex flex-wrap align-items-center justify-content-end">
				<div class="col-first">
					<h1>Products</h1>
					<nav class="d-flex align-items-center">
						<a th:href="@{/}">Home<span class="lnr lnr-arrow-right"></span></a>							
						<a th:href="@{/shop}">Catalogue</a>
					</nav>
				</div>
			</div>
		</div>
	</section>
	<!-- End Banner Area -->
	<div class="container">
		<div class="row">
			<div class="col-xl-3 col-lg-4 col-md-5">

	<!-- Categories -->
				<div class="sidebar-categories">
					<div class="head">Browse Categories</div>

					<ul class="main-categories">
						<li th:each="cat, iterStat : ${cats}" 
							th:with="cat_code = 'par_' + ${iterStat.index}" 
							class="main-nav-list">

							<a th:if="${cat.children} == null" href="#">[[${cat.name}]]<span class="number">([[${cat.productsCount}]])</span></a>							
							<a th:if="${cat.children} != null" data-toggle="collapse" th:href="'#' + ${cat_code}" aria-expanded="false" th:aria-controls="${cat_code}"><span class="lnr lnr-arrow-right"></span>[[${cat.name}]]<span class="number">([[${cat.productsCount}]])</span></a>
							<ul th:if="${cat.children} != null" class="collapse" th:id="${cat_code}" data-toggle="collapse" aria-expanded="false" th:aria-controls="${cat_code}">
								<li th:each="child_cat : ${cat.children}" class="main-nav-list child"><a href="#">[[${child_cat.name}]]<span class="number">([[${child_cat.productsCount}]])</span></a></li>
							</ul>
						</li>
				
					</ul>
				</div>
	<!-- Filters -->
				<div class="sidebar-filter mt-50">
					<div class="top-filter-head">Product Filters</div>
					<div class="common-filter">
						<div class="head">Price</div>
						<div class="price-range-area">
							<div id="price-range"></div>
							<div class="value-wrapper d-flex">
								<div class="price">Price:</div>
								<span>$</span>
								<div id="lower-value"></div>
								<div class="to">to</div>
								<span>$</span>
								<div id="upper-value"></div>
							</div>
						</div>
					</div>
					<div class="common-filter">
						<div class="head">Brands</div>
						<form action="#">
							<ul>
								<li th:each="brand : ${brands}" class="filter-list"><input class="pixel-radio" type="radio" id="asus" name="brand"><label for="asus" th:text="${brand.name} + ' (' + ${brand.total} + ')'"></label></li>
							</ul>
						</form>
					</div>					
				</div>
			</div>
			<div class="col-xl-9 col-lg-8 col-md-7">
				<!-- Start Filter Bar -->
				<div class="filter-bar d-flex flex-wrap align-items-center">
					<div class="sorting">
						<select>
							<option value="1">Default sorting</option>
							<option value="1">Default sorting</option>
							<option value="1">Default sorting</option>
						</select>
					</div>
					<div class="sorting mr-auto">
						<select>
							<option value="1">Show 12</option>
							<option value="1">Show 12</option>
							<option value="1">Show 12</option>
						</select>
					</div>
					<div class="pagination">
						<a href="#" class="prev-arrow"><i class="fa fa-long-arrow-left" aria-hidden="true"></i></a>
						<a href="#" class="active">1</a>
						<a href="#">2</a>
						<a href="#">3</a>
						<a href="#" class="dot-dot"><i class="fa fa-ellipsis-h" aria-hidden="true"></i></a>
						<a href="#">6</a>
						<a href="#" class="next-arrow"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></a>
					</div>
				</div>
				<!-- End Filter Bar -->

				<!-- Product items -->
				<section class="lattest-product-area pb-40 category-list">
					<div class="row">
						<!-- single product -->
						<div th:each="prod: ${products}" class="col-lg-4 col-md-6">

							<div class="single-product"
								th:with="image = ${prod.getPrimaryImage()}">

								<a th:href="@{/shop/product/{id}(id=${prod.id})}">
									<img th:if="${image} == null" class="img-fluid" th:src="@{/img/} + ${default_image_name}" alt="No image provided">
									<img class="img-fluid" 
										th:if="${image} != null" 									
										th:src="@{/image/download/{id}(id=${image.id})}" 
										th:alt="${image.description} ? image.description : 'No description provided'"
											width="255px">
								</a>

								<div class="product-details">
									<!-- <h6 th:text="${prod.name}"></h6> -->
									<a th:href="@{/shop/product/{id}(id=${prod.id})}" class="title" th:text="${prod.name}"></a>
									<div class="price">
										<h6 th:text="${#numbers.formatDecimal(prod.price, 0, 'COMMA', 2, 'POINT')} + ' руб.'"></h6>
										<h6 th:if="${prod.oldPrice} != null" 
											th:text="${#numbers.formatDecimal(prod.oldPrice, 0, 'COMMA', 2, 'POINT')} + ' руб.'"
											class="l-through"></h6>
									</div>
									<div class="prd-bottom">

										<a href="#" class="social-info">
											<span class="ti-bag"></span>
											<p class="hover-text">add to bag</p>
										</a>
									</div>
								</div>
							</div>
						</div>						
					</div>
				</section>
				<!-- End Best Seller -->
				<!-- Start Filter Bar -->
				<div class="filter-bar d-flex flex-wrap align-items-center">
					<div class="sorting mr-auto">
						<select>
							<option value="1">Show 12</option>
							<option value="1">Show 12</option>
							<option value="1">Show 12</option>
						</select>
					</div>
					<div class="pagination">
						<a href="#" class="prev-arrow"><i class="fa fa-long-arrow-left" aria-hidden="true"></i></a>
						<a href="#" class="active">1</a>
						<a href="#">2</a>
						<a href="#">3</a>
						<a href="#" class="dot-dot"><i class="fa fa-ellipsis-h" aria-hidden="true"></i></a>
						<a href="#">6</a>
						<a href="#" class="next-arrow"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></a>
					</div>
				</div>
				<!-- End Filter Bar -->
			</div>
		</div>
	</div>

	<section class="section_gap">

	<!-- start footer Area -->
	<footer th:replace="fragments/footer.html :: cli_footer_block"></footer>
	<!-- End footer Area -->

	<div th:replace="fragments/scripts.html :: cli_scripts_block"></div>
</body>

</html>